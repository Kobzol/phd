\documentclass[english,phd]{diploma}

% Minimální počet stran (úvod - závěr): 60

% Packages
\usepackage[autostyle=true]{csquotes} % enhanced support for quotation marks, support for biblatex package
\usepackage[
    backend=biber,
    style=numeric,
    alldates=iso,
    maxnames=999,
    maxbibnames=3,
    defernumbers=true,
    sorting=none
]{biblatex}
\usepackage{dcolumn} % numeric column type
%\usepackage{subfig} % subtables and subfigures

\usepackage{subcaption} % subfigure
\captionsetup{compatibility=false}

\newcolumntype{T}{>{\footnotesize}p{6cm}} % Estee table

\usepackage[cpp]{diplomalst}
\usepackage{hyperref}
\usepackage{todonotes}
\usepackage{tikz}
\usetikzlibrary{graphs}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{math}
\usepackage[outputdir=../out]{minted}

% Abbreviations (\gls, \glspl, \acrfull, \acrshort, \acrlong)
\usepackage[
    acronym,        % enable acronyms
    nomain,         % disable main glossary, we only use acronyms
    notranslate     % enable overriding \acronymname without involving babel
]{glossaries}

%\glsdisablehyper    % disable hyperlinks
\input{acronyms}
\renewcommand*{\acronymname}{List of Abbreviations}

\usemintedstyle{vs}
% [escapeinside=||]
% [tabsize=4]
% [fontsize=\small]

% Fix arrow tips
\tikzset{tips=proper}

% Commands
\newcommand{\comment}[1]{}
\newcommand{\workshare}[1]{\emph{#1}}
\newcommand{\footnoteurl}[1]{\footnote{\url{#1}}}

% Tools
\newcommand{\estee}{\textsc{Estee}}
\newcommand{\rsds}{\textsc{RSDS}}
\newcommand{\hyperqueue}{\textsc{HyperQueue}}
\newcommand{\dask}{\textsc{Dask}}
\newcommand{\ray}{\emph{Ray}}
\newcommand{\snakemake}{\emph{SnakeMake}}

\graphicspath{{./imgs/}}

% TikZ styles
\tikzset{%
    task/.style={circle, draw},
    data/.style={rectangle, draw, rounded corners},
    arrow/.style={draw, thick, {->}}
}

% Metadata
\ThesisAuthor{Ing. Jakub Beránek}

\ThesisSupervisor{Ing. Jan Martinovič, Ph.D.}

\CzechThesisTitle{Ergonomie a efektivita workflow na HPC klastrech}
\EnglishThesisTitle{Ergonomics and efficiency of workflows on HPC clusters}

\SubmissionYear{2024}

%TODO: přeožit abstrakt
\CzechAbstract{TODO: přeložit}
\CzechKeywords{distribuované výpočty, výpočetní grafy, vysokovýkonnostní počítání}

%TODO: abstrakt a přínos
\EnglishAbstract{This thesis deals with the execution of task graphs on High-performance Computing
(HPC) clusters with focus on efficient usage of hardware resources and ergonomic interfaces for defining
task graphs. Task graphs are a popular tool for executing scientific workflows on distributed clusters.
However, executing them on HPC clusters introduces unique challenges, caused mainly by the large scale
of workflows and an unwieldy interaction with HPC allocation managers like PBS (Portable Batch System)
or Slurm. This work examines these challenges in detail and proposes approaches on alleviating them.

This thesis provides three main contributions. Firstly, it contains a comprehensive study of the performance
of various task schedulers and provides a simulation environment that enables experiments with different
task scheduling algorithms. Secondly, it analyses the performance of a state of the art
task runtime \dask{} and provides an implementation of an alternative \dask{} server which
improves its performance significantly on HPC clusters. And primarily, it introduces a new HPC-tailored
task runtime called \hyperqueue{}, which offers an ergonomic way of executing task graphs while
achieving high hardware utilization on heterogeneous HPC clusters. \hyperqueue{} is available as
open-source software under the MIT (Massachusetts Institute of Technology) license at
\url{https://github.com/it4innovations/hyperqueue}.
}
\EnglishKeywords{distributed computing, task graphs, hpc}

\Acknowledgement{I would like to thank my supervisor, Jan Martinovič, for his advices and mentorship.
I would also like to thank Ada Böhm, Vojtěch Cima and Martin Šurkovský, who have co-authored several
publications with me and supported me during my Ph.D. studies. I am especially grateful to Ada Böhm
for her constant readiness to provide both research and technical guidance.

The tool HyperQueue, which is one of the central topics of this thesis, was supported by TODO.

Finally, I would like to extend my gratitude to my wife Jana for her support and patience.}

%TODO: declaration?
%TODO: declaration from Ada?
% I declare that I composed this thesis, and I am the original author and leader of the group that works on this project. I have also done most of the work related to technical matters and programming. Some of these results have been previously published
%in~\cite{estee, rsds, ligate}.

\addbibresource{references.bib}
\addbibresource{publications.bib}

\makeglossaries
\begin{document}
\MakeTitlePages

%\glsaddall     % Automatically add all defined acronyms
\printglossaries

\listoffigures
\clearpage

\listoftables
\clearpage

% Make sure that related publications are first in the bibliography list
\nocite{estee, rsds, ligate}

\chapter{Introduction}
\label{ch:Introduction}
\input{chapters/introduction}

\chapter{Task-based programming model}
\label{ch:taskgraphs}
\input{chapters/taskgraphs}

\chapter{Task graph challenges in HPC}
\label{ch:challenges}
\input{chapters/challenges}

\chapter{State of the art}
\label{ch:sota}
\input{chapters/sota}

\chapter{Task scheduling analysis}
\label{ch:estee}
\input{chapters/estee}

\chapter{Task runtime optimization}
\label{ch:rsds}
\input{chapters/rsds}

\chapter{HyperQueue}
\label{ch:hyperqueue}
\input{chapters/hyperqueue}

\chapter{Conclusion}
\label{ch:conclusion}
\input{chapters/conclusion}

\chapter*{List of own publication activities and other outcomes}
\label{ch:listofstudentsownpublicationactivitiesandotheroutcomes}
\addcontentsline{toc}{chapter}{\nameref{ch:listofstudentsownpublicationactivitiesandotheroutcomes}}

\input{chapters/publications-generated}

\chapter*{List of projects}
\label{ch:listofprojects}~\addcontentsline{toc}{chapter}{\nameref{ch:listofprojects}}
\input{chapters/projects}

% Bibliography
\printbibliography[heading=bibintoc, title={Bibliography}]

%\appendix
%\chapter{Foo}
%asd

\end{document}
